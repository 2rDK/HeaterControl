<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>HeaterControl</title>

    <!-- Bootstrap -->
    <link href="{{ static_url("css/bootstrap.min.css") }}" rel="stylesheet">
    <link href="{{ static_url("css/heaterControl.css") }}" rel="stylesheet">

    <!--
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/css/HeaterControl.css" rel="stylesheet">
    -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <p class="bg-info">Heater control 0610</p>
	<div class="row">
    	<div class="col-sm-4"></div>
    	<div class="col-sm-4" align="center">
			<h1><span class="label label-default">Slukket</span></h1>
			<h2><span id="demo">##</span> &deg;C | <span id="setPoint">##</span> &deg;C</h2>
    	</div>
        <div class="col-sm-4" align="right">
        	<h3>
            	<span class="glyphicon glyphicon-cloud-upload"></span><br/>
        		<span class="glyphicon glyphicon-fire"></span><br/>
                <span class="glyphicon glyphicon-leaf"></span><br/>
            </h3>
        </div>
	</div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    	<script>
	function refreshReadings(){
		var xmlhttp = new XMLHttpRequest();
		var url = "../readtemp";

		xmlhttp.onreadystatechange = function() {
	    	if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
	        	var myArr = JSON.parse(xmlhttp.responseText);
	        	document.getElementById("demo").innerHTML=myArr.temp;
	    	}
		}
		xmlhttp.open("GET", url, true);
		xmlhttp.send();
	}
	
	setInterval(function(){refreshReadings()},1000);
</script>
    <script src="{{ static_url("js/bootstrap.min.js") }}"></script>
  </body>
</html>